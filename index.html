<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Toy Store Software</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --dark:#0b2a4a;
  --light:#38bdf8;
  --bg:#f4f6f8;
  --card:#ffffff;
  --shadow:0 10px 30px rgba(0,0,0,.15);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:var(--bg);
}

/* ---------- LOGIN ---------- */
#loginScreen{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.login-box{
  width:360px;
  background:#fff;
  padding:32px;
  border-radius:18px;
  box-shadow:var(--shadow);
}
.login-box h2{text-align:center}
.login-box input,.login-box button{
  width:100%;
  padding:14px;
  margin-top:14px;
  font-size:15px;
}
.login-box button{
  background:var(--dark);
  color:#fff;
  border:none;
  border-radius:12px;
  cursor:pointer;
}
#error{color:red;text-align:center;margin-top:8px}

/* ---------- APP ---------- */
#app{display:none;height:100vh;flex-direction:column}
header{
  height:64px;
  background:var(--dark);
  color:#fff;
  display:flex;
  align-items:center;
  padding:0 26px;
  font-size:20px;
  font-weight:600;
}
.container{flex:1;display:flex}

/* ---------- SIDEBAR ---------- */
.sidebar{
  width:260px;
  background:var(--dark);
  color:#cbd5e1;
  display:flex;
  flex-direction:column;
  padding-top:10px;
}
.nav-btn{
  background:none;
  border:none;
  color:inherit;
  padding:18px 26px;
  text-align:left;
  font-size:16px;
  cursor:pointer;
  position:relative;
  transition:.3s;
}
.nav-btn span{font-size:22px;margin-right:12px}
.nav-btn.active{
  color:#fff;
}
.nav-btn.active::after{
  content:'';
  position:absolute;
  bottom:6px;
  left:26px;
  width:60%;
  height:3px;
  background:#fff;
  border-radius:4px;
}
.nav-btn.active{
  background:rgba(255,255,255,.08);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.1);
}
.sidebar .bottom{margin-top:auto}

/* ---------- MAIN ---------- */
main{
  flex:1;
  padding:26px;
  overflow:auto;
}

/* ---------- DASHBOARD ---------- */
.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:24px;
}
.card{
  background:#fff;
  padding:26px;
  border-radius:18px;
  box-shadow:var(--shadow);
  font-size:18px;
}

/* ---------- TABLE ---------- */
table{width:100%;border-collapse:collapse;margin-top:14px}
th,td{padding:10px;border-bottom:1px solid #e5e7eb;font-size:14px}
td input{width:100%;padding:8px}

.summary{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:20px;
  margin-top:24px;
}
.sum{
  background:#fff;
  padding:20px;
  border-radius:18px;
  box-shadow:var(--shadow);
}
.sum input{width:100%;padding:10px;margin-top:8px}

.add{
  margin-top:12px;
  padding:12px 18px;
  background:var(--dark);
  color:#fff;
  border:none;
  border-radius:12px;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginScreen">
  <div class="login-box">
    <h2>Login</h2>
    <input id="username" placeholder="Username">
    <input id="password" type="password" placeholder="Password">
    <button id="loginBtn">Login</button>
    <div id="error"></div>
  </div>
</div>

<!-- APP -->
<div id="app">
<header>üß∏ Toy Store Management System</header>
<div class="container">
  <div class="sidebar" id="sidebar">
    <button class="nav-btn active" data-page="home"><span>üè†</span>Home</button>
    <button class="nav-btn" data-page="invoice"><span>üßæ</span>Invoice</button>
    <button class="nav-btn" data-page="purchase"><span>üì¶</span>Purchase</button>
    <button class="nav-btn" data-page="vendors"><span>üè™</span>Vendors</button>
    <div class="bottom">
      <button class="nav-btn" data-page="settings"><span>‚öô</span>Settings</button>
    </div>
  </div>
  <main id="view"></main>
</div>
</div>

<script>
/* ---------- STATE ---------- */
const DEV={user:'Dani',pass:'123'};
let rows=0;

/* ---------- LOGIN ---------- */
loginBtn.onclick=()=>{
  if(username.value===DEV.user && password.value===DEV.pass){
    loginScreen.style.display='none';
    app.style.display='flex';
    render('home');
  } else error.textContent='Invalid username or password';
};

/* ---------- NAV ---------- */
sidebar.addEventListener('click',e=>{
  const btn=e.target.closest('.nav-btn');
  if(!btn) return;
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  render(btn.dataset.page);
});

/* ---------- RENDER ---------- */
const rs=n=>'Rs. '+Number(n||0).toLocaleString('en-IN',{minimumFractionDigits:2});

function render(page){
  if(page==='home') view.innerHTML=`
    <div class="cards">
      <div class="card">üßæ Invoice</div>
      <div class="card">üì¶ Purchase</div>
      <div class="card">üè™ Vendors</div>
      <div class="card">üí∞ Cash</div>
      <div class="card">üìä Profit</div>
      <div class="card">üìë Reports</div>
    </div>`;

  if(page==='purchase' || page==='invoice'){
    rows=0;
    view.innerHTML=`
      <h2>${page==='purchase'?'Purchase':'Invoice'}</h2>
      <table id="tbl">
        <tr>
          <th>S No</th><th>Barcode</th><th>Item No</th><th>Description</th>
          <th>Qty</th><th>Rate</th><th>Amount</th>
        </tr>
      </table>
      <button class="add" id="addRow">+ Add Item</button>
      <div class="summary">
        <div class="sum"><b>Amount</b><div id="amt">Rs. 0.00</div></div>
        <div class="sum"><b>Discount</b>
          <input id="dRs" placeholder="Rs">
          <input id="dPc" placeholder="%">
        </div>
        <div class="sum"><b>Total</b><div id="tot">Rs. 0.00</div></div>
      </div>`;
    addRow();
    addRowBtn();
  }

  if(page==='vendors') view.innerHTML=`<h2>Vendors</h2><p>Add & manage vendors here</p>`;
  if(page==='settings') view.innerHTML=`<h2>Settings</h2><p>Login & Theme settings</p>`;
}

/* ---------- TABLE LOGIC ---------- */
function addRowBtn(){
  document.getElementById('addRow').onclick=addRow;
  dRs.oninput=discRs;
  dPc.oninput=discPc;
}

function addRow(){
  rows++;
  tbl.insertAdjacentHTML('beforeend',`
    <tr>
      <td>${rows}</td>
      <td><input></td>
      <td><input></td>
      <td><input></td>
      <td><input type="number" value="1" id="q${rows}"></td>
      <td><input type="number" id="r${rows}"></td>
      <td id="a${rows}">Rs. 0.00</td>
    </tr>`);
  q${rows}.oninput=()=>calc(rows);
  r${rows}.oninput=()=>calc(rows);
}

function calc(i){
  const q=+document.getElementById('q'+i).value||0;
  const r=+document.getElementById('r'+i).value||0;
  document.getElementById('a'+i).textContent=rs(q*r);
  total();
}

function sum(){
  let s=0;
  for(let i=1;i<=rows;i++)
    s+=+document.getElementById('a'+i).textContent.replace(/[^0-9.]/g,'')||0;
  return s;
}

function discRs(){ dPc.value=sum()?((+dRs.value/sum())*100).toFixed(2):''; total(); }
function discPc(){ dRs.value=((sum()*+dPc.value)/100).toFixed(2); total(); }

function total(){
  amt.textContent=rs(sum());
  tot.textContent=rs(sum()-(+dRs.value||0));
}
</script>

</body>
</html>
