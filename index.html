<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Toy Store Software</title>

<style>
:root{
  --primary:#0b2a4a;
  --accent:#38bdf8;
  --bg:#f4f6f8;
  --card:#ffffff;
  --shadow:0 10px 30px rgba(0,0,0,.12);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:var(--bg);
}

/* LOGIN */
#login{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.login-box{
  width:340px;
  background:#fff;
  padding:30px;
  border-radius:16px;
  box-shadow:var(--shadow);
}
.login-box h2{text-align:center}
.login-box input,.login-box button{
  width:100%;
  padding:12px;
  margin-top:12px;
}
.login-box button{
  background:var(--primary);
  color:#fff;
  border:none;
  border-radius:10px;
  cursor:pointer;
}
#error{color:red;text-align:center}

/* APP */
#app{display:none;height:100vh;flex-direction:column}
header{
  height:60px;
  background:var(--primary);
  color:#fff;
  display:flex;
  align-items:center;
  padding:0 20px;
  font-size:18px;
}
.container{flex:1;display:flex}
.sidebar{
  width:220px;
  background:var(--primary);
  color:#cbd5e1;
  display:flex;
  flex-direction:column;
}
.sidebar button{
  background:none;
  border:none;
  color:inherit;
  padding:14px 20px;
  text-align:left;
  cursor:pointer;
}
.sidebar button.active{
  background:var(--accent);
  color:#fff;
  border-radius:12px;
  margin:6px;
}
.sidebar .bottom{margin-top:auto}
main{flex:1;padding:20px;overflow:auto}

/* HOME */
.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}
.card{
  background:#fff;
  padding:24px;
  border-radius:16px;
  box-shadow:var(--shadow);
  font-size:18px;
}

/* TABLE */
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border-bottom:1px solid #e5e7eb;padding:8px;font-size:13px}
td input{width:100%;padding:6px}

.summary{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:20px;
  margin-top:20px;
}
.sum{
  background:#fff;
  padding:16px;
  border-radius:16px;
  box-shadow:var(--shadow);
}
.sum input{width:100%;padding:8px;margin-top:6px}

.add{
  margin-top:10px;
  padding:10px 14px;
  background:var(--primary);
  color:#fff;
  border:none;
  border-radius:10px;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
  <div class="login-box">
    <h2>Login</h2>
    <input id="u" placeholder="Username">
    <input id="p" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <div id="error"></div>
  </div>
</div>

<!-- APP -->
<div id="app">
<header>üß∏ Toy Store Software</header>
<div class="container">
  <div class="sidebar">
    <button class="active" onclick="home()">üè† Home</button>
    <button onclick="purchase()">üì¶ Purchase</button>
    <button>üßæ Invoice</button>
    <button>üè™ Vendors</button>
    <div class="bottom">
      <button>‚öô Settings</button>
    </div>
  </div>
  <main id="view"></main>
</div>
</div>

<script>
const USER='Dani', PASS='123';
let rows=0;

function login(){
  if(u.value===USER && p.value===PASS){
    login.style.display='none';
    app.style.display='flex';
    home();
  } else error.textContent='Invalid Login';
}

const rs=n=>'Rs. '+Number(n||0).toLocaleString('en-IN',{minimumFractionDigits:2});

function home(){
  view.innerHTML=`
    <div class="cards">
      <div class="card">üßæ Invoice</div>
      <div class="card">üì¶ Purchase</div>
      <div class="card">üè™ Vendors</div>
      <div class="card">üí∞ Cash</div>
      <div class="card">üìä Profit</div>
      <div class="card">üìë Reports</div>
    </div>`;
}

function purchase(){
  rows=0;
  view.innerHTML=`
    <h2>Purchase</h2>
    <table id="tbl">
      <tr>
        <th>S No</th><th>Barcode</th><th>Item No</th><th>Description</th>
        <th>Qty</th><th>Rate</th><th>Amount</th>
      </tr>
    </table>
    <button class="add" onclick="addRow()">+ Add Item</button>
    <div class="summary">
      <div class="sum"><b>Amount</b><div id="amt">Rs. 0.00</div></div>
      <div class="sum"><b>Discount</b>
        <input id="dRs" placeholder="Rs" oninput="discRs()">
        <input id="dPc" placeholder="%" oninput="discPc()">
      </div>
      <div class="sum"><b>Total</b><div id="tot">Rs. 0.00</div></div>
    </div>`;
  addRow();
}

function addRow(){
  rows++;
  tbl.insertAdjacentHTML('beforeend',`
    <tr>
      <td>${rows}</td>
      <td><input></td>
      <td><input></td>
      <td><input></td>
      <td><input type="number" value="1" id="q${rows}" oninput="calc(${rows})"></td>
      <td><input type="number" id="r${rows}" oninput="calc(${rows})"></td>
      <td id="a${rows}">Rs. 0.00</td>
    </tr>`);
}

function calc(i){
  const q=+document.getElementById('q'+i).value||0;
  const r=+document.getElementById('r'+i).value||0;
  document.getElementById('a'+i).textContent=rs(q*r);
  total();
}

function sum(){
  let s=0;
  for(let i=1;i<=rows;i++){
    s+=+document.getElementById('a'+i).textContent.replace(/[^0-9.]/g,'')||0;
  }
  return s;
}

function discRs(){
  dPc.value=sum()?((+dRs.value/sum())*100).toFixed(2):'';
  total();
}
function discPc(){
  dRs.value=((sum()*+dPc.value)/100).toFixed(2);
  total();
}

function total(){
  amt.textContent=rs(sum());
  tot.textContent=rs(sum()-(+dRs.value||0));
}
</script>

</body>
</html>
