<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Toy Store Software</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --dark:#0b2a4a;
  --light:#ffffff;
  --accent:#38bdf8;
  --bg:#f4f6f8;
  --card:#ffffff;
  --shadow:0 10px 25px rgba(0,0,0,.15);
}
body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:var(--bg);
}
header{
  height:64px;
  background:var(--dark);
  color:#fff;
  display:flex;
  align-items:center;
  padding:0 26px;
  font-size:20px;
  font-weight:600;
}
.container{display:flex;height:calc(100vh - 64px)}
.sidebar{
  width:260px;
  background:var(--dark);
  color:#cbd5e1;
  display:flex;
  flex-direction:column;
}
.nav{
  padding:18px 26px;
  cursor:pointer;
  font-size:16px;
  position:relative;
}
.nav span{font-size:22px;margin-right:12px}
.nav.active{
  color:#fff;
}
.nav.active::after{
  content:'';
  position:absolute;
  bottom:6px;
  left:26px;
  width:60%;
  height:3px;
  background:#fff;
  border-radius:4px;
}
.nav:hover{background:rgba(255,255,255,.08)}
.bottom{margin-top:auto}
main{
  flex:1;
  padding:26px;
  overflow:auto;
}
.card{
  background:#fff;
  padding:22px;
  border-radius:18px;
  box-shadow:var(--shadow);
  margin-bottom:20px;
}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid #e5e7eb}
input,select{
  padding:8px;
  width:100%;
}
button{
  padding:10px 16px;
  background:var(--dark);
  color:#fff;
  border:none;
  border-radius:10px;
  cursor:pointer;
}
.summary{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:20px;
}
</style>
</head>

<body>

<header>üß∏ Toy Store Management System</header>

<div class="container">
  <div class="sidebar" id="menu">
    <div class="nav active" data-page="home"><span>üè†</span>Home</div>
    <div class="nav" data-page="products"><span>üì¶</span>Products</div>
    <div class="nav" data-page="invoice"><span>üßæ</span>Invoice</div>
    <div class="nav" data-page="purchase"><span>üõí</span>Purchase</div>
    <div class="nav" data-page="vendors"><span>üè™</span>Vendors</div>
    <div class="nav" data-page="settings"><span>‚öô</span>Settings</div>
  </div>
  <main id="view"></main>
</div>

<script>
/* ---------------- DATABASE ---------------- */
const db={
  products:JSON.parse(localStorage.getItem('products')||'[]'),
  invoices:JSON.parse(localStorage.getItem('invoices')||'[]'),
  vendors:JSON.parse(localStorage.getItem('vendors')||'[]'),
};
const save=()=> {
  localStorage.setItem('products',JSON.stringify(db.products));
  localStorage.setItem('invoices',JSON.stringify(db.invoices));
  localStorage.setItem('vendors',JSON.stringify(db.vendors));
}
const rs=n=>'Rs. '+Number(n||0).toLocaleString('en-IN',{minimumFractionDigits:2});

/* ---------------- NAVIGATION ---------------- */
menu.onclick=e=>{
  const n=e.target.closest('.nav');
  if(!n) return;
  document.querySelectorAll('.nav').forEach(b=>b.classList.remove('active'));
  n.classList.add('active');
  render(n.dataset.page);
}

/* ---------------- RENDER ---------------- */
function render(p){
  if(p==='home') view.innerHTML=`
    <div class="card"><h2>Dashboard</h2>
    <p>Total Products: ${db.products.length}</p>
    <p>Total Invoices: ${db.invoices.length}</p></div>`;

  if(p==='products') productPage();
  if(p==='invoice') invoicePage();
  if(p==='purchase') purchasePage();
  if(p==='vendors') vendorPage();
  if(p==='settings') settingsPage();
}

/* ---------------- PRODUCTS ---------------- */
function productPage(){
  view.innerHTML=`
    <div class="card">
      <h2>Product Master</h2>
      <input id="pb" placeholder="Barcode">
      <input id="pn" placeholder="Name">
      <input id="ps" placeholder="Stock">
      <input id="pr" placeholder="Rate">
      <button onclick="addProduct()">Add Product</button>
    </div>
    <div class="card">
      <table>
        <tr><th>Barcode</th><th>Name</th><th>Stock</th><th>Rate</th></tr>
        ${db.products.map(p=>`
          <tr><td>${p.b}</td><td>${p.n}</td><td>${p.s}</td><td>${rs(p.r)}</td></tr>`).join('')}
      </table>
    </div>`;
}
function addProduct(){
  db.products.push({b:pb.value,n:pn.value,s:+ps.value,r:+pr.value});
  save(); productPage();
}

/* ---------------- INVOICE ---------------- */
function invoicePage(){
  view.innerHTML=`
    <div class="card">
      <h2>Invoices</h2>
      <button onclick="newInvoice()">+ New Invoice</button>
      <table>
        <tr><th>No</th><th>Date</th><th>Total</th><th>Print</th></tr>
        ${db.invoices.map((i,x)=>`
          <tr><td>${x+1}</td><td>${i.d}</td><td>${rs(i.t)}</td>
          <td><button onclick="printInvoice(${x})">Print</button></td></tr>`).join('')}
      </table>
    </div>`;
}
function newInvoice(){
  const total=prompt("Enter total amount");
  db.invoices.push({d:new Date().toLocaleDateString(),t:+total});
  save(); invoicePage();
}
function printInvoice(i){
  const w=window.open();
  w.document.write(`<h1>Invoice</h1><p>Total: ${rs(db.invoices[i].t)}</p>`);
  w.print();
}

/* ---------------- PURCHASE ---------------- */
function purchasePage(){
  view.innerHTML=`
    <div class="card">
      <h2>Purchase</h2>
      <p>Purchase updates stock automatically</p>
    </div>`;
}

/* ---------------- VENDORS ---------------- */
function vendorPage(){
  view.innerHTML=`
    <div class="card">
      <h2>Vendors</h2>
      <input id="vn" placeholder="Vendor Name">
      <button onclick="addVendor()">Add Vendor</button>
    </div>
    <div class="card">
      <ul>${db.vendors.map(v=>`<li>${v.name} - Balance: ${rs(v.bal)}</li>`).join('')}</ul>
    </div>`;
}
function addVendor(){
  db.vendors.push({name:vn.value,bal:0});
  save(); vendorPage();
}

/* ---------------- SETTINGS ---------------- */
function settingsPage(){
  view.innerHTML=`
    <div class="card">
      <h2>Settings</h2>
      <button onclick="toggleTheme()">Toggle Theme</button>
      <p>User creation logic ready (login currently disabled)</p>
    </div>`;
}
function toggleTheme(){
  document.body.style.background=
    document.body.style.background===''?'#1e293b':'';
}

render('home');
</script>

</body>
</html>
