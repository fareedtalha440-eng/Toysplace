import streamlit as st

# ======================
# PAGE CONFIG
# ======================
st.set_page_config(
    page_title="Toy Store Admin Panel",
    layout="wide",
    initial_sidebar_state="collapsed"
)

# ======================
# THEME SYSTEM
# ======================
THEME = {
    "primary": "#4F46E5",
    "background": "#0F172A",
    "card": "#1E293B",
    "text": "#E5E7EB",
    "inactive": "#000000"
}

# ======================
# GLOBAL CSS
# ======================
st.markdown(f"""
<style>
body {{
    background-color: {THEME['background']};
    color: {THEME['text']};
}}

.header {{
    background: {THEME['primary']};
    padding: 15px 25px;
    border-radius: 12px;
    font-size: 22px;
    font-weight: bold;
    color: white;
}}

.menu-card {{
    background: {THEME['card']};
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    font-size: 18px;
    cursor: pointer;
    transition: 0.3s;
}}

.menu-card:hover {{
    background: {THEME['primary']};
}}

.sidebar-item {{
    padding: 12px 15px;
    border-radius: 10px;
    margin-bottom: 8px;
}}

.sidebar-active {{
    background: {THEME['primary']};
    color: white;
}}

.sidebar-inactive {{
    background: transparent;
    color: {THEME['inactive']};
}}
</style>
""", unsafe_allow_html=True)

# ======================
# STATE
# ======================
if "menu" not in st.session_state:
    st.session_state.menu = None

# ======================
# HEADER
# ======================
st.markdown(
    '<div class="header">üß∏ Toy Store Software Admin Panel</div>',
    unsafe_allow_html=True
)

st.write("")

# ======================
# MENU ITEMS
# ======================
MENU_ITEMS = [
    ("Invoice", "üßæ"),
    ("Purchase", "üì¶"),
    ("Cash In Hand", "üí∞"),
    ("Profit", "üìà"),
    ("Report", "üìä"),
    ("Vendors", "üè™")
]

# ======================
# HOME SCREEN
# ======================
if st.session_state.menu is None:
    cols = st.columns(3)
    for i, (name, icon) in enumerate(MENU_ITEMS):
        with cols[i % 3]:
            if st.button(f"{icon}  {name}", use_container_width=True):
                st.session_state.menu = name

# ======================
# LEFT SLIDE MENU
# ======================
if st.session_state.menu:
    with st.sidebar:
        st.markdown("### Main Menu")

        for name, icon in MENU_ITEMS:
            active = st.session_state.menu == name
            css = "sidebar-active" if active else "sidebar-inactive"

            st.markdown(
                f'<div class="sidebar-item {css}">{icon} {name}</div>',
                unsafe_allow_html=True
            )

        st.markdown("---")
        st.markdown(
            '<div class="sidebar-item sidebar-inactive">‚öô Settings</div>',
            unsafe_allow_html=True
        )

    st.markdown(f"## {st.session_state.menu}")
    st.info("Module UI will be implemented in next parts.")
